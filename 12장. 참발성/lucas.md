# 12. 창발성

## 창발성?

: 단순한 결합 → 복잡한 결과. 집단지성

## 창발적 설계로 깔끔한 코드 구현

창발적 설계란 어떤 규칙과 원칙에 따라 설계를 하면, 그것들이 모여 좋은 설계가 된다.

### 켄트백 - 단순한 설계

```
* 모든 테스트를 실행한다.
* 중복을 없앤다.
* 프로그래머 의도를 표현한다.
* 클래스와 메서드 수를 최소로 줄인다.
```

## 단순한 설계 규칙 1 : 모든 테스트를 실행하라

- 테스트를 철저히 거쳐 모든 테스트 케이스를 항상 통과하는 시스템은 '테스트가 가능한 시스템'이다.
- 테스트가 불가능한 시스템은 검증도 불가능하다. 논란의 여지는 있지만, 검증이 불가능한 시스템은 절대 출시하면 안 된다.
- 테스트가 가능한 시스템을 만들려고 애쓰면 설계 품질이 더불어 높아진다.
  - 크기가 작고 목적 하나만 수행하는 클래스
  - SPR(단일 책임 원칙)을 준수하는 클래스
  - 결합도가 높을 수록 테스트 케이스가 작성하기 어렵기 때문에 "테스트 케이스를 만들고 계속 돌려라" 라는 간단하고 단순한 규칙을 따르면 저절로 달성이 됨.
  - DIP와 같은 원칙을 적용하고 의존성 주입, 인터페이스, 추상화 등과 같은 도구를 사용해 결합도를 낮춤 => 따라서 설계 품질은 더욱 높아짐

## 단순한 설계 규칙 2~4: 리팩터링

- 테스트케이스 작성 -> 리팩토링
  - 코드를 정리하면서 시스템이 깨질까 걱정할 필요가 없음! 테스트 케이스를 돌리면 되니깐!
- 소프트웨어 설계 품질을 높이는 다양한 기법 적용 가능
  - 응집도 높히고 결합도 낮추기
  - 관심사 분리하고 모듈로 나누기
  - 함수와 클래스 크기를 줄이고 더 나은 이름을 선택하기

### 중복을 없애라

- 중복은 추가 작업, 추가 위험, 불필요한 복잡도를 뜻하기 때문에 우수한 설계의 적임
- 비슷한 코드는 더 비슷하게 고쳐주면 리팩토링이 쉬워짐

### 표현하라

- 좋은 이름 선택하기
- 함수와 클래스 크기를 가능한 줄인다! 작은 클래스와 작은 함수는 이름 짓기도 쉽고 구현도 쉽다.
- 표준 명칭을 사용한다! 예를 들어 디자인패턴을 사용하는 경우, COMMAND나 VISITOR와 같은 표준 패턴을 사용해 구현된다면, 클래스 이름에 패턴이름을 넣어준다.
- 단위 테스트 케이스를 꼼꼼히 작성한다
  - 예제로 보여주는 문서
  - 잘 만든 테스트 케이스를 읽어보면 클래스 기능이 한 눈이 들어옴
- 노력
  - 함수와 클래스의 나누는 데 더 노력을 기울이고, 더 나은 이름을 선택하며 추후에 코드를 읽을 사람이 나 자신일 가능성을 염두해두자!

### 클래스와 메서드 수를 최소로 줄여라

- 하지만 이 규칙은 간단한 설계 규칙 네 개 중 우선순위가 가장 낮다
- 테스트 케이스를 만들고, 중복을 제거하고 의도를 표현하는 작업이 더 중요하다는 뜻이다.
