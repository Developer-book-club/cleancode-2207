# 함수

## 함수를 만들 때 최대한 ‘작게!’ 만들어라.

- 함수를 만드는 첫번째 규칙으로 "작게" 즉 코드 줄에 해당하기도 본다.
- 42 서울에서 배웠던 규칙으로는 이러한 습관을 길러주기위해 한 파일당 80줄이 못넘 도록 했고, 그걸 넘으면 무조건 모듈화를 해야 컴파일을 할 수 있었다. 이렇게 너무 짧을 필요 도 없지만, 이 책 기준에서는 가로 150자 함수는 100줄을 넘지 말라고 권하고 있다.

## 한 가지만 해야 합니다.

> 함수는 한 가지를 해야 한다. 그 한 가지를 잘 해야 한다. 그 한 가지만을 해야 한다.

- 말을 쉽지만 한가지 기능을 하는지 분간하기 어렵다, 이러한 것을 분간하기 위해서는 첫번째로는 그 함수가 다른 의미있는 이름으로 다른 함수를 추출을 할 수 있을지를 생각해보는 것이다. 두번째로는, 추상화 수준의 단계를 점검해 본다.

### 함수의 추상화 수준을 최대한 낮추면 좋습니다.

아래 코드의 추상화 수준은 하나입니다.

함수는 TO 문단으로 기술할 수 있습니다.

to render page with setups and teardowns

페이지가 테스트페이지인지 확인할 호 테스트페이지라면 설정 페이지와 해제 페이지를 넣는다

테스트페이지든 아니든 페이지를 HTML로 렌더링한다.

```go
func renderPageWithSetupsAndTeardowns(pageData PageData, isSuite bool) string {
  if isTestPage(pageData) {
    includeSetupAndTeardownPages(pageData, isSuite)
  }

  return pageData.getHtml()
}
```

위 코드처럼 추상화 수준이 하나인 단계만 수행한다면 그 함수는 한 가지 작업만 하는 겁니다.

단순히 다른 표현이 아니라 의미있는 이름으로 다른 함수를 추출할 수 있다면,

그 함수는 여러 작업을 한다고 봐도 된다.

## Switch 문

다형성(polymorphism)을 이용하자.

## 서술적인 이름을 사용해주세요.

> 한 가지만 하는 작은 함수에 좋은 이름을 붙인다면 이런 원칙을 달성함에 있어 이미 절반은 성공했다.

앞에서 말한(2장) 네이밍 규칙에 간략하게 네이밍을 지으면 좋다고 하였지만, 이 챕터에서는 이름이 길어도 괜찮다고 한다. 즉, 서술적인 이름이라면 단순히 간략하고 짧은 것보다 더 의미 있다는 뜻이다.

- 의미있는 네이밍 이라면 길어도 되니 겁먹지 말자
- 이름을 붙일땐, 일관성이 있어야 한다.(규칙예시로 모듈내에서 함수이름은 같은 문구나 동사 ,명사를 사용한다든가가 있다. )

서술적인 이름을 사용하면, 개발자 머릿속에서도 설계가 뚜렷해져 코드를 개선하기 쉬워집니다.

## 함수 인수

> 함수에서 이상적인 인수 개수는 0개(무항)입니다.

다음은 1개, 다음은 2개입니다.

3개 이상부터는 피하는 게 좋다고 하는데 이는 테스트 관점에서도 고려할 부분이 많아서 일 것이다. 하지만 이는 로직에 따라 다르므로 즉 2개가 최대로 생각하고 코드를 짜다보면 그만큼 함수도 그렇고 간략하게 짤 수 있지 않을까 생각한다.

### 동사와 키워드

함수의 의도나 인수의 순서와 의도를 잘 표현하려면 좋은 이름이 필요합니다.

ex) `write(name)`, `writeField(name)`

## 부수 효과를 일으키면 안됩니다.

함수형 프로그래밍 기본 원칙인 순수 함수를 유지하도록 함수가 한가지 일을 하겠다고 하고 여러가지 일을 하는 지 점검해보면된다.

## 명령과 조회를 분리하면 좋습니다.

함수는 뭔사를 수행하거나 뭔가에 답하거나 둘 중 하나만 해야 합니다.

즉 함수가 하는 기능에 초점을 맞춰 명령인지 조회인지 이런 부분을 명확히 구분하면 된다.

### 오류 코드보단 예외처리를 하자

- 여기 예시로 if 분기로 여러 갈래로 로직을 나눠서 처리하다보면 어느 곳에서 오류코드가 발생할 수 있다. 하지만 예외처리를 분기를 나눠서 해주게 되면(try, catch 등) 코드 구조에 혼란없이 깔끔하게 뽑아 낼 수 있다.

## 결론

이 장은 함수를 잘 만드는 기교를 설명해주고 있으며, 중요한 점은 시스템이라고 강조한다. 내가 작성하는 함수가 분명하고 정확한 언어로 잘 작성이 되야 그런 시스템이 좋은 프로그램을 만든다는 것이라고 말해준다.
