# 1장 깨끗한 코드

### 이 책을 통해 얻을 수 있는 것

- 좋은 코드와 나쁜 코드를 구별할 수 있는 능력이 생긴다.
- 나쁜 코드를 좋은 코드로 바꾸는 실력이 쌓인다.

## 코드가 존재하리라

- 기계가 실행할 정도로 상세하게 요구사항을 명세하는 작업이 프로그래밍이다.
- 프로그래밍의 결과물이 코드이다.
- 즉, 코드는 요구사항을 표현하는 언어다.
- 코드는 기계가 이해하고 실행할 정도로 엄밀하고 정확하고 상세하고 정형화되어야한다.
- 제대로 명시한 요구사항은 코드만큼 정형적이며 테스트 케이스로 사용해도 좋다.

## 나쁜 코드

- 좋은 코드는 중요하다.
    - 많은 사람들이 나쁜 코드에 시달려오면서 얻은 사실이다.
    - 나쁜코드는 회사를 망하게 할 수도 있다.
- **나중은 결코 오지 않는다.**
    - 우선 돌아가기라도 하는 프로그램을 짜기 위해서 쓰레기 코드를 짜면 안된다.
    - 나중에 손봐야겠다? NO!

## 나쁜 코드로 치르는 대가

- 나쁜 코드는 개발 속도를 크게 떨어뜨린다.
    - 코드를 고칠때마다 엉뚱한 곳에서 문제가 생긴다.
    - 얽히고 설킨 코드를 해독해서 얽히고설킨 코드를 더한다.
    - 쓰레기가 쌓인다.
- 나쁜 코드가 쌓일수록 팀 생산성은 떨어진다.
- **원대한 재설계의 꿈**
    - 시간을 들여 깨끗한 코드를 만드려는 노력은
        - 비용을 절감하는 방법이다.
        - 전문가로서 살아남는 길이다.
- **태도**
    - 한줄만 고치면 될줄 알았는데 모듈 수백개를 건드린 경험이 있을 것이다.
    - **좋은 코드를 사수하는 일은 바로 우리 프로그래머의 책임이다.**
    - 나쁜 코드의 위험을 이해하지 못하는 관리자 말을 그대로 따르는 행동은 **전문가답지 못하다.**
- **원초적 난제**
    - 나쁜코드가 업무속도를 늦출것이다.
    - 하지만 빨리 작업을 진행하려고 좋은 코드를 위해 시간을 투자하지 않는다.
    - 왜? 모든 프로그래머가 기한을 맞추려면 나쁜 코드를 양산할 수 밖에 없다고 느낀다.
    - 하지만 결국 기한을 맞추는 유일한 방법은, 언제나 코드를 깨끗하게 유지하는 습관이다.
- 깨끗한 코드라는 예술?
    - 깨끗한 코드를 구분하는 능력과 깨끗한 코드를 작성하는 능력은 별개다.
    - 꺠끗한 코드를 작성하려면
        - ‘청결'이라는 힘들게 얻은 감각을 활용하여
        - 자잘한 기법들을 적용하는 절제와 규율이 필요하다.
    - **🔑  는 코드 감각이다. 코드감각이 있다면**
        - 좋은 코드와 나쁜 코드를 구분할 수 있다.
        - 나쁜 코드를 좋은 코드로 개선할 수 있는 전략도 파악한다.
- **깨끗한 코드란?**
    - 비야네 스트롭스토롭 :: c++ 의 창시자
        - 논리가 간단해야 버그가 숨어들지 못한다.
        - 의존성을 최대한 줄여야 유지보수가 쉬워진다.
        - 오류는 명백한 전략에 의거해 철저히 처리한다.
            - 세세한 사항까지 꼼꼼하게 신경쓰라
            - 메모리 누수, race condition, 일관성 없는 명명법
        - **깨끗한 코드는 한가지를 제대로한다.**
            - 의도가 명확하다.
            - 목적이 명확하다.
            - 단 한가지에 집중한다.
        - **나쁜 코드는 나쁜 코드를 불러온다.**
            - 깨진 창문의 법칙 :: 실용주의 프로그래머 앤디 헌트
    - **그래디 부치**
        - 깨끗한 코드는 단순하고 직접적이다.
        - 깨끗한 코드는 잘 쓴 문장처럼 읽힌다.
        - 꺠끗한 코드는 설계자의 의도를 잘 표현한다.
        - 명쾌한 추상화와 단순한 제어문으로 가득하다.
    - **큰 데이브 토마스**
        - 깨끗한 코드는 다른 사람이 읽어도 읽기 쉽고 고치기 쉽다.
        - 작을수록 좋다
        - 테스트 케이스가 있다.
    - **마이클 페더스**
        - 주의깊게 작성한 코드
    - 🔥 **론 제프리스**
        - 중복을 피하라.
        - 의미있는 이름
        - 객체가 여러 기능을 수행한다면 여러 객체로 나눈다.
        - 메서드가 여러 기능을 수행한다면
            - 기능을 명확히 기술하는 메서드 하나와
            - 기능을 실제로 수행하는 메서드 여러 개로 나눈다.
    - 워드 커닝햄
        - 꺠끗한 코드는 읽으면서 짐작했던 기능을 각 루틴이 그대로 실행한다.
        - 명백하고 단순한 코드

### 우리는 저자다

- 새 코드를 짜면서 우리는 끊임없이 기존 코드를 읽는다.
- 코드를 읽는 시간 대 코드를 짜는 시간 비율이 10 대 1을 훌쩍 넘는다.
- 비율이 이렇게 높으므로 읽기 쉬운 코드가 매우 중요하다.

### 🔥 보이스카우트 규칙

> *캠프장은 처음 왔을 때보다 더 깨끗하게 해놓고 떠나라.*
> 
- 체크아웃할 때보다 좀 더 깨끗한 코드를 체크인한다면 코드는 절대 나빠지지 않는다.
- 한꺼번에 많은 시간과 노력을 투자해 코드를 정리할 필요가 없다.
- 변수 이름 하나를 개선하고, 조금 긴 함수를 하나 분할하고, 약간의 중복을 제거하고, 복잡한 if 문 하나를 정리하면 충분하다.
- **지속적인 개선이야말로 전문가 정신의 본질이다.**

## 끊임없이 연습하라!

- 보는 것만으로 실력이 늘지 않는다.
